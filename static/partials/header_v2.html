<!-- Header: Advanced Navigation from TailAdmin + Sampelit branding -->
<header x-data="{ menuToggle: false }"
  class="sticky top-0 z-[99999] flex w-full border-gray-100 bg-white/80 backdrop-blur-md xl:border-b dark:border-gray-800 dark:bg-gray-900/80">
  <div class="flex grow flex-col items-center justify-between xl:flex-row xl:px-8">
    <div
      class="flex w-full items-center justify-between gap-2 border-b border-gray-100 px-4 py-3 sm:gap-4 lg:py-4 xl:justify-normal xl:border-b-0 xl:px-0 dark:border-gray-800">

      <!-- Hamburger Toggle BTN -->
      <button :class="sidebarToggle ? 'xl:bg-transparent bg-gray-50 dark:bg-gray-800' : ''"
        class="group flex h-10 w-10 items-center justify-center rounded-xl border border-gray-200 bg-white text-gray-500 transition-all hover:border-sampelit hover:text-sampelit xl:h-11 xl:w-11 dark:border-gray-800 dark:bg-gray-900 dark:text-gray-400"
        @click.stop="sidebarToggle = !sidebarToggle">
        <span class="material-symbols-outlined" x-show="!sidebarToggle">menu</span>
        <span class="material-symbols-outlined" x-show="sidebarToggle" x-cloak>close</span>
      </button>

      <!-- Logo (Mobile) -->
      <a href="index_v2.html" class="xl:hidden">
        <span class="text-xl font-bold tracking-premium-tight text-sampelit">Sampelit<span
            class="text-accent">.</span></span>
      </a>

      <!-- Application nav menu button (Mobile) -->
      <button
        class="flex h-10 w-10 items-center justify-center rounded-xl text-gray-700 hover:bg-gray-50 xl:hidden dark:text-gray-400 dark:hover:bg-gray-800"
        :class="menuToggle ? 'bg-gray-50 dark:bg-gray-800' : ''" @click.stop="menuToggle = !menuToggle">
        <span class="material-symbols-outlined">more_horiz</span>
      </button>

      <!-- Search (Desktop) -->
      <div class="hidden xl:block ml-6">
        <form>
          <div class="relative">
            <span class="pointer-events-none absolute top-1/2 left-4 -translate-y-1/2">
              <span class="material-symbols-outlined text-gray-400 text-xl">search</span>
            </span>
            <input id="search-input" type="text" placeholder="Search experiments or commands..."
              class="h-11 w-full rounded-xl border border-gray-200 bg-gray-50/50 py-2.5 pr-14 pl-12 text-sm text-gray-800 transition-all placeholder:text-gray-400 focus:border-sampelit focus:bg-white focus:ring-4 focus:ring-sampelit/5 focus:outline-none xl:w-[400px] dark:border-gray-800 dark:bg-white/[0.03] dark:text-white/90 dark:placeholder:text-white/30" />
            <button type="button"
              class="absolute top-1/2 right-2.5 inline-flex -translate-y-1/2 items-center gap-1 rounded-lg border border-gray-200 bg-white px-2 py-1 text-[10px] font-bold text-gray-400 dark:border-gray-800 dark:bg-gray-900">
              <span class="opacity-70">CMD</span>
              <span>K</span>
            </button>
          </div>
        </form>
      </div>
    </div>

    <div :class="menuToggle ? 'flex' : 'hidden'"
      class="w-full items-center justify-between gap-6 px-5 py-4 xl:flex xl:justify-end xl:px-0 xl:shadow-none dark:bg-gray-900 border-t border-gray-100 xl:border-0 dark:border-gray-800">

      <div class="flex items-center gap-4">
        <!-- Notification Menu -->
        <div class="relative" x-data="{ dropdownOpen: false, notifying: true }" @click.outside="dropdownOpen = false">
          <button
            class="relative flex h-10 w-10 items-center justify-center rounded-xl border border-gray-200 bg-white text-gray-500 transition-all hover:border-sampelit hover:text-sampelit dark:border-gray-800 dark:bg-gray-900 dark:text-gray-400"
            @click.prevent="dropdownOpen = !dropdownOpen; notifying = false">
            <span x-show="notifying" class="absolute top-2 right-2 h-2 w-2 rounded-full bg-blue-500">
              <span class="absolute inline-flex h-full w-full animate-ping rounded-full bg-blue-400 opacity-75"></span>
            </span>
            <span class="material-symbols-outlined text-[22px]">notifications</span>
          </button>

          <!-- Notification Dropdown -->
          <div x-show="dropdownOpen" x-transition:enter="transition ease-out duration-200"
            x-transition:enter-start="opacity-0 translate-y-2" x-transition:enter-end="opacity-100 translate-y-0"
            class="absolute right-0 mt-4 flex w-[380px] flex-col rounded-[32px] border border-gray-100 bg-white p-6 shadow-elevation dark:border-gray-800 dark:bg-gray-900"
            x-cloak>
            <div class="mb-5 flex items-center justify-between">
              <h5 class="text-sm font-extrabold tracking-tight text-gray-900 dark:text-white font-display">Notifications
              </h5>
              <span
                class="text-[10px] font-bold text-brand-600 bg-brand-50 px-3 py-1 rounded-full uppercase tracking-widest">4
                New</span>
            </div>
            <div class="flex flex-col gap-3 max-h-[380px] overflow-y-auto custom-scrollbar pr-1">
              <!-- Experiment Success -->
              <a class="flex gap-4 rounded-2xl p-4 bg-emerald-50/50 hover:bg-emerald-50 transition-all" href="#">
                <div
                  class="flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-emerald-500 text-white shadow-lg">
                  <span class="material-symbols-outlined text-xl">check_circle</span>
                </div>
                <div class="flex-1">
                  <p class="text-sm font-bold text-gray-900 dark:text-white">Winner Confirmed</p>
                  <p class="text-xs text-gray-500 mt-0.5 leading-relaxed">Variant B has reached 99% statistical
                    significance.</p>
                  <p class="mt-2 text-[10px] font-bold text-emerald-600 uppercase tracking-widest">2 mins ago</p>
                </div>
              </a>
              <!-- Experiment Warning -->
              <a class="flex gap-4 rounded-2xl p-4 hover:bg-amber-50/50 transition-all" href="#">
                <div
                  class="flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-amber-100 text-amber-600">
                  <span class="material-symbols-outlined text-xl">warning</span>
                </div>
                <div class="flex-1">
                  <p class="text-sm font-bold text-gray-900 dark:text-white">Traffic Anomaly</p>
                  <p class="text-xs text-gray-500 mt-0.5 leading-relaxed">Unusual traffic pattern detected on Checkout
                    V2.</p>
                  <p class="mt-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest">15 mins ago</p>
                </div>
              </a>
              <!-- New Feature -->
              <a class="flex gap-4 rounded-2xl p-4 hover:bg-brand-50/50 transition-all" href="#">
                <div
                  class="flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-brand-100 text-brand-600">
                  <span class="material-symbols-outlined text-xl">rocket_launch</span>
                </div>
                <div class="flex-1">
                  <p class="text-sm font-bold text-gray-900 dark:text-white">New Feature</p>
                  <p class="text-xs text-gray-500 mt-0.5 leading-relaxed">Multi-page experiments are now available.</p>
                  <p class="mt-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest">1 hour ago</p>
                </div>
              </a>
              <!-- Experiment Milestone -->
              <a class="flex gap-4 rounded-2xl p-4 hover:bg-gray-50 transition-all" href="#">
                <div class="flex h-12 w-12 shrink-0 items-center justify-center rounded-2xl bg-gray-100 text-gray-500">
                  <span class="material-symbols-outlined text-xl">analytics</span>
                </div>
                <div class="flex-1">
                  <p class="text-sm font-bold text-gray-900 dark:text-white">Milestone Reached</p>
                  <p class="text-xs text-gray-500 mt-0.5 leading-relaxed">Homepage Hero reached 10,000 visitors.</p>
                  <p class="mt-2 text-[10px] font-bold text-gray-400 uppercase tracking-widest">3 hours ago</p>
                </div>
              </a>
            </div>
            <a href="#"
              class="mt-5 flex justify-center rounded-2xl bg-gray-50 py-3.5 text-[11px] font-bold text-gray-500 uppercase tracking-widest transition-all hover:bg-gray-100 hover:text-gray-900 dark:bg-white/5 dark:text-gray-400 dark:hover:bg-white/10">
              View All Activity
            </a>
          </div>

        </div>

        <!-- Theme Toggler -->
        <button
          class="flex h-10 w-10 items-center justify-center rounded-xl border border-gray-200 bg-white text-gray-500 transition-all hover:border-sampelit hover:text-sampelit dark:border-gray-800 dark:bg-gray-900 dark:text-gray-400"
          @click.prevent="darkMode = !darkMode">
          <span class="material-symbols-outlined dark:hidden">dark_mode</span>
          <span class="material-symbols-outlined hidden dark:block">light_mode</span>
        </button>
      </div>

      <div class="h-6 w-px bg-gray-100 hidden xl:block dark:bg-gray-800"></div>

      <!-- User Area -->
      <div class="relative" x-data="{ dropdownOpen: false }" @click.outside="dropdownOpen = false">
        <button class="flex items-center gap-3 transition-opacity hover:opacity-80"
          @click.prevent="dropdownOpen = !dropdownOpen">
          <div
            class="flex h-10 w-10 items-center justify-center overflow-hidden rounded-xl bg-sampelit/10 text-sampelit font-bold shadow-soft">
            AU
          </div>
          <div class="hidden text-left xl:block">
            <p class="text-sm font-bold tracking-premium text-gray-800 dark:text-white/90">Admin User</p>
            <p class="text-[10px] font-bold uppercase tracking-widest text-gray-400">Enterprise</p>
          </div>
          <span class="material-symbols-outlined text-gray-400 transition-transform duration-200"
            :class="dropdownOpen && 'rotate-180'">expand_more</span>
        </button>

        <!-- User Dropdown -->
        <div x-show="dropdownOpen" x-transition:enter="transition ease-out duration-200"
          x-transition:enter-start="opacity-0 translate-y-2" x-transition:enter-end="opacity-100 translate-y-0"
          class="absolute right-0 mt-4 flex w-[260px] flex-col rounded-2xl border border-gray-100 bg-white p-3 shadow-elevation dark:border-gray-800 dark:bg-gray-900"
          x-cloak>
          <div class="px-3 pb-3 pt-2">
            <p class="text-xs font-bold uppercase tracking-widest text-gray-400">Account</p>
            <p class="mt-1 text-sm font-bold text-gray-800 dark:text-white/90">admin@sampelit.com</p>
          </div>

          <div class="my-2 h-px bg-gray-50 dark:bg-gray-800"></div>

          <ul class="flex flex-col gap-1">
            <li>
              <a href="profile_v2.html"
                class="group flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium text-gray-600 transition-all hover:bg-gray-50 hover:text-sampelit dark:text-gray-400 dark:hover:bg-white/5">
                <span class="material-symbols-outlined text-gray-400 group-hover:text-sampelit">person</span>
                Member Profile
              </a>
            </li>
            <li>
              <a href="#"
                class="group flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium text-gray-600 transition-all hover:bg-gray-50 hover:text-sampelit dark:text-gray-400 dark:hover:bg-white/5">
                <span class="material-symbols-outlined text-gray-400 group-hover:text-sampelit">settings</span>
                System Settings
              </a>
            </li>
          </ul>

          <div class="my-2 h-px bg-gray-50 dark:bg-gray-800"></div>

          <button
            class="group flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-bold text-red-500 transition-all hover:bg-red-50 dark:hover:bg-red-900/10">
            <span class="material-symbols-outlined text-red-400 group-hover:text-red-500">logout</span>
            Sign Out
          </button>
        </div>
      </div>
    </div>
  </div>
</header>