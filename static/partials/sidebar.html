<aside :class="sidebarToggle ? 'translate-x-0 xl:w-[90px]' : '-translate-x-full'"
  class="sidebar fixed top-0 left-0 z-9999 flex h-screen w-[290px] flex-col overflow-y-auto border-r border-slate-200 bg-white/95 backdrop-blur-xl px-5 transition-all duration-300 xl:static xl:translate-x-0 dark:border-slate-800 dark:bg-slate-900/95 shadow-sm"
  @click.outside="sidebarToggle = false">

  <!-- SIDEBAR HEADER -->
  <div :class="sidebarToggle ? 'justify-center' : 'justify-between'"
    class="sidebar-header flex items-center gap-2 pt-8 pb-7">
    <a href="/">
      <span class="logo" :class="sidebarToggle ? 'hidden' : ''">
        <!-- Text Logo for Samplit -->
        <h1 class="text-2xl font-bold text-brand-600 dark:text-white tracking-tight">Samplit<span
            class="text-brand-400">.</span></h1>
      </span>

      <span class="logo-icon text-2xl font-bold text-brand-600 dark:text-white"
        :class="sidebarToggle ? 'xl:block' : 'hidden'">S.</span>
    </a>
  </div>
  <!-- SIDEBAR HEADER -->

  <div class="no-scrollbar flex flex-col overflow-y-auto duration-300 ease-linear">
    <!-- Sidebar Menu -->
    <nav x-data="{selected: $persist('Dashboard'), role: localStorage.getItem('mab_role') || 'client'}">

      <!-- MENU GROUP: CORE -->
      <div>
        <h3 class="mb-4 text-xs leading-[20px] text-gray-400 uppercase">
          <span class="menu-group-title" :class="sidebarToggle ? 'xl:hidden' : ''">
            PLATFORM
          </span>
          <svg :class="sidebarToggle ? 'xl:block hidden' : 'hidden'" class="menu-group-icon mx-auto fill-current"
            width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"
              fill="currentColor" />
          </svg>
        </h3>

        <ul class="mb-6 flex flex-col gap-1">

          <!-- ITEM: DASHBOARD -->
          <li>
            <a href="/?tab=web" @click="selected = 'Dashboard'" class="menu-item group"
              :class="selected === 'Dashboard' ? 'menu-item-active' : 'menu-item-inactive'">

              <svg :class="selected === 'Dashboard' ? 'menu-item-icon-active' : 'menu-item-icon-inactive'" width="24"
                height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M4 13h6a1 1 0 001-1V4a1 1 0 00-1-1H4a1 1 0 00-1 1v8a1 1 0 001 1zm-1 7a1 1 0 001 1h6a1 1 0 001-1v-4a1 1 0 00-1-1H4a1 1 0 00-1 1v4zm10 0a1 1 0 001 1h6a1 1 0 001-1v-7a1 1 0 00-1-1h-6a1 1 0 00-1 1v7zm1-10h6a1 1 0 001-1V4a1 1 0 00-1-1h-6a1 1 0 00-1 1v5a1 1 0 001 1z"
                  fill="currentColor" />
              </svg>

              <span class="menu-item-text" :class="sidebarToggle ? 'xl:hidden' : ''">Dashboard</span>
            </a>
          </li>

          <!-- ITEM: EXPERIMENTS -->
          <li>
            <a href="/?tab=web" @click="selected = 'Experiments'" class="menu-item group"
              :class="selected === 'Experiments' ? 'menu-item-active' : 'menu-item-inactive'">

              <svg :class="selected === 'Experiments' ? 'menu-item-icon-active' : 'menu-item-icon-inactive'" width="24"
                height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>

              <span class="menu-item-text" :class="sidebarToggle ? 'xl:hidden' : ''">Experiments</span>
            </a>
          </li>

          <!-- ITEM: FUNNELS -->
          <li>
            <a href="/?tab=funnels" @click="selected = 'Funnels'" class="menu-item group"
              :class="selected === 'Funnels' ? 'menu-item-active' : 'menu-item-inactive'">

              <svg :class="selected === 'Funnels' ? 'menu-item-icon-active' : 'menu-item-icon-inactive'" width="24"
                height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M4 6h16M4 12h16m-7 6h7" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>

              <span class="menu-item-text" :class="sidebarToggle ? 'xl:hidden' : ''">Funnels</span>

              <span class="absolute right-3 flex items-center gap-1" :class="sidebarToggle ? 'xl:hidden' : ''">
                <span class="menu-dropdown-badge-pro">BETA</span>
              </span>
            </a>
          </li>

        </ul>
      </div>

      <!-- MENU GROUP: ADMIN (Only for Admins) -->
      <div x-show="role === 'admin'" x-cloak>
        <h3 class="mb-4 text-xs leading-[20px] text-gray-400 uppercase">
          <span class="menu-group-title" :class="sidebarToggle ? 'xl:hidden' : ''">
            ADMINISTRATION
          </span>
        </h3>
        <ul class="mb-6 flex flex-col gap-1">
          <!-- ITEM: LEADS (EMAIL) -->
          <li>
            <a href="/?tab=email" @click="selected = 'Leads'" class="menu-item group"
              :class="selected === 'Leads' ? 'menu-item-active' : 'menu-item-inactive'">
              <svg :class="selected === 'Leads' ? 'menu-item-icon-active' : 'menu-item-icon-inactive'" width="24"
                height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
              <span class="menu-item-text" :class="sidebarToggle ? 'xl:hidden' : ''">Email Leads</span>
            </a>
          </li>
        </ul>
      </div>

      <!-- MENU GROUP: SETTINGS -->
      <div>
        <h3 class="mb-4 text-xs leading-[20px] text-gray-400 uppercase">
          <span class="menu-group-title" :class="sidebarToggle ? 'xl:hidden' : ''">
            SETTINGS
          </span>
        </h3>

        <ul class="mb-6 flex flex-col gap-1">
          <!-- ITEM: BILLING -->
          <li>
            <a href="/settings/billing.html" class="menu-item group menu-item-inactive">
              <svg class="menu-item-icon-inactive" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"
                  stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
              <span class="menu-item-text" :class="sidebarToggle ? 'xl:hidden' : ''">Billing & Plans</span>
            </a>
          </li>

          <!-- ITEM: SITE SETUP -->
          <li>
            <a href="/onboarding/verify.html" class="menu-item group menu-item-inactive">
              <svg class="menu-item-icon-inactive" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
              <span class="menu-item-text" :class="sidebarToggle ? 'xl:hidden' : ''">Site Setup</span>
            </a>
          </li>

          <!-- ITEM: PROFILE -->
          <li>
            <a href="/profile.html" class="menu-item group menu-item-inactive">
              <svg class="menu-item-icon-inactive" width="24" height="24" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" stroke-width="2"
                  stroke-linecap="round" stroke-linejoin="round" />
              </svg>
              <span class="menu-item-text" :class="sidebarToggle ? 'xl:hidden' : ''">My Profile</span>
            </a>
          </li>

          <!-- ITEM: LOGOUT -->
          <li>
            <a href="#" data-action="logout"
              class="menu-item group menu-item-inactive hover:bg-red-50 hover:text-red-500">
              <svg class="menu-item-icon-inactive group-hover:text-red-500" width="24" height="24" viewBox="0 0 24 24"
                fill="none" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
                  stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
              <span class="menu-item-text" :class="sidebarToggle ? 'xl:hidden' : ''">Sign Out</span>
            </a>
          </li>
        </ul>
      </div>

    </nav>
  </div>
</aside>