<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sampelit | Analytics</title>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <script src="https://cdn.tailwindcss.com?plugins=forms,typography,container-queries"></script>
    <link rel="stylesheet" href="css/sampelit.css">
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        "primary": "#1754cf", "primary-dark": "#0f3a9a", "background-light": "#f8f9fc",
                        "surface": "#ffffff", "text-main": "#0e121b", "text-secondary": "#5a6b89",
                        "accent-green": "#07883b", "border-subtle": "#e7ebf3",
                        gray: { 50: '#F9FAFB', 100: '#F3F4F6', 200: '#E5E7EB', 300: '#D1D5DB', 400: '#9CA3AF', 500: '#6B7280', 600: '#4B5563', 700: '#374151', 800: '#1F2937', 900: '#111827' },
                        brand: { DEFAULT: '#1754cf', 500: '#1754cf', 600: '#0f3a9a' }
                    },
                    fontFamily: { display: ['Manrope', 'sans-serif'], sans: ['Manrope', 'sans-serif'] },
                    borderRadius: { DEFAULT: '0.375rem', lg: '0.5rem', xl: '0.75rem', '2xl': '1rem' },
                    boxShadow: { 'subtle': '0 1px 2px 0 rgba(0, 0, 0, 0.05)', 'float': '0 10px 30px -10px rgba(23, 84, 207, 0.15)' }
                },
            },
        };
    </script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="js/include.js"></script>
</head>

<body x-data="{ page: 'analytics', sidebarToggle: false, darkMode: false, period: '30d' }"
    x-init="darkMode = JSON.parse(localStorage.getItem('darkMode')) || false; $watch('darkMode', value => localStorage.setItem('darkMode', JSON.stringify(value)))"
    :class="{ 'dark': darkMode }"
    class="bg-[#f8f9fc] dark:bg-gray-900 text-text-main dark:text-gray-300 font-sans antialiased">
    <div class="flex h-screen overflow-hidden">
        <include src="./partials/sidebar_v2.html"></include>

        <div class="relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden">
            <include src="./partials/header_v2.html"></include>

            <main>
                <div class="mx-auto max-w-screen-2xl p-4 md:p-6 2xl:p-10">
                    <!-- Page Header -->
                    <div class="mb-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between">
                        <h2 class="text-3xl font-bold font-display text-text-main tracking-tight">Analytics</h2>
                        <nav class="flex items-center text-sm font-medium text-text-secondary">
                            <a class="hover:text-primary transition-colors" href="index_v2.html">Dashboard</a>
                            <span class="material-symbols-outlined text-[16px] mx-2 text-gray-400">chevron_right</span>
                            <span class="text-text-main font-semibold">Analytics</span>
                        </nav>
                    </div>

                    <!-- Period Selector + Main Chart -->
                    <div class="bg-surface rounded-xl border border-border-subtle p-6 mb-6">
                        <div class="flex flex-wrap items-start justify-between gap-5 mb-6">
                            <div>
                                <h3 class="mb-1 text-lg font-semibold text-text-main">Visitor Analytics</h3>
                                <span class="block text-sm text-text-secondary">Experiment traffic and conversions over
                                    time</span>
                            </div>
                            <div class="flex items-center gap-0.5 rounded-lg bg-gray-100 p-0.5">
                                <button @click="period = '12m'"
                                    :class="period === '12m' ? 'shadow-sm text-text-main bg-white' : 'text-text-secondary'"
                                    class="rounded-md px-3 py-2 text-sm font-medium hover:text-text-main">12
                                    months</button>
                                <button @click="period = '30d'"
                                    :class="period === '30d' ? 'shadow-sm text-text-main bg-white' : 'text-text-secondary'"
                                    class="rounded-md px-3 py-2 text-sm font-medium hover:text-text-main">30
                                    days</button>
                                <button @click="period = '7d'"
                                    :class="period === '7d' ? 'shadow-sm text-text-main bg-white' : 'text-text-secondary'"
                                    class="rounded-md px-3 py-2 text-sm font-medium hover:text-text-main">7
                                    days</button>
                                <button @click="period = '24h'"
                                    :class="period === '24h' ? 'shadow-sm text-text-main bg-white' : 'text-text-secondary'"
                                    class="rounded-md px-3 py-2 text-sm font-medium hover:text-text-main">24
                                    hours</button>
                            </div>
                        </div>
                        <div id="analyticsChart" class="h-[350px]"></div>
                    </div>

                    <!-- Two-Column Grid -->
                    <div class="grid grid-cols-12 gap-6">
                        <!-- Sessions by Device -->
                        <div class="col-span-12 xl:col-span-5">
                            <div class="bg-surface rounded-xl border border-border-subtle p-6 h-full">
                                <h3 class="text-lg font-semibold text-text-main mb-6">Sessions by Device</h3>
                                <div id="deviceChart" class="h-[250px]"></div>
                                <div class="flex justify-center gap-6 mt-4">
                                    <div class="flex items-center gap-2"><span
                                            class="w-3 h-3 rounded-full bg-primary"></span><span
                                            class="text-sm text-text-secondary">Desktop (62%)</span></div>
                                    <div class="flex items-center gap-2"><span
                                            class="w-3 h-3 rounded-full bg-blue-300"></span><span
                                            class="text-sm text-text-secondary">Mobile (31%)</span></div>
                                    <div class="flex items-center gap-2"><span
                                            class="w-3 h-3 rounded-full bg-gray-300"></span><span
                                            class="text-sm text-text-secondary">Tablet (7%)</span></div>
                                </div>
                            </div>
                        </div>

                        <!-- Top Traffic Sources -->
                        <div class="col-span-12 xl:col-span-7">
                            <div class="bg-surface rounded-xl border border-border-subtle overflow-hidden h-full">
                                <div class="px-6 py-5 border-b border-border-subtle flex justify-between items-center">
                                    <h3 class="text-lg font-semibold text-text-main">Top Traffic Sources</h3>
                                    <a href="#" class="text-primary text-sm font-semibold hover:underline">View All</a>
                                </div>
                                <table class="w-full text-left">
                                    <thead>
                                        <tr
                                            class="text-xs font-bold text-text-secondary uppercase tracking-wider border-b border-border-subtle">
                                            <th class="px-6 py-4">Source</th>
                                            <th class="px-6 py-4 text-right">Visitors</th>
                                            <th class="px-6 py-4 text-right">Conversions</th>
                                            <th class="px-6 py-4 text-right">Rate</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-sm text-text-main divide-y divide-border-subtle">
                                        <tr class="hover:bg-gray-50">
                                            <td class="px-6 py-4 font-medium">Google Organic</td>
                                            <td class="px-6 py-4 text-right">12,450</td>
                                            <td class="px-6 py-4 text-right">523</td>
                                            <td class="px-6 py-4 text-right text-accent-green font-medium">4.2%</td>
                                        </tr>
                                        <tr class="hover:bg-gray-50">
                                            <td class="px-6 py-4 font-medium">Direct</td>
                                            <td class="px-6 py-4 text-right">8,234</td>
                                            <td class="px-6 py-4 text-right">412</td>
                                            <td class="px-6 py-4 text-right text-accent-green font-medium">5.0%</td>
                                        </tr>
                                        <tr class="hover:bg-gray-50">
                                            <td class="px-6 py-4 font-medium">Facebook Ads</td>
                                            <td class="px-6 py-4 text-right">5,120</td>
                                            <td class="px-6 py-4 text-right">186</td>
                                            <td class="px-6 py-4 text-right font-medium">3.6%</td>
                                        </tr>
                                        <tr class="hover:bg-gray-50">
                                            <td class="px-6 py-4 font-medium">Twitter</td>
                                            <td class="px-6 py-4 text-right">2,845</td>
                                            <td class="px-6 py-4 text-right">89</td>
                                            <td class="px-6 py-4 text-right font-medium">3.1%</td>
                                        </tr>
                                        <tr class="hover:bg-gray-50">
                                            <td class="px-6 py-4 font-medium">LinkedIn</td>
                                            <td class="px-6 py-4 text-right">1,678</td>
                                            <td class="px-6 py-4 text-right">72</td>
                                            <td class="px-6 py-4 text-right text-accent-green font-medium">4.3%</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Top Pages -->
                        <div class="col-span-12 xl:col-span-7">
                            <div class="bg-surface rounded-xl border border-border-subtle overflow-hidden">
                                <div class="px-6 py-5 border-b border-border-subtle">
                                    <h3 class="text-lg font-semibold text-text-main">Top Pages</h3>
                                </div>
                                <table class="w-full text-left">
                                    <thead>
                                        <tr
                                            class="text-xs font-bold text-text-secondary uppercase tracking-wider border-b border-border-subtle">
                                            <th class="px-6 py-4">Page</th>
                                            <th class="px-6 py-4 text-right">Views</th>
                                            <th class="px-6 py-4 text-right">Bounce</th>
                                        </tr>
                                    </thead>
                                    <tbody class="text-sm text-text-main divide-y divide-border-subtle">
                                        <tr class="hover:bg-gray-50">
                                            <td class="px-6 py-4 font-medium">/checkout</td>
                                            <td class="px-6 py-4 text-right">8,234</td>
                                            <td class="px-6 py-4 text-right">24%</td>
                                        </tr>
                                        <tr class="hover:bg-gray-50">
                                            <td class="px-6 py-4 font-medium">/pricing</td>
                                            <td class="px-6 py-4 text-right">6,123</td>
                                            <td class="px-6 py-4 text-right">31%</td>
                                        </tr>
                                        <tr class="hover:bg-gray-50">
                                            <td class="px-6 py-4 font-medium">/homepage</td>
                                            <td class="px-6 py-4 text-right">5,890</td>
                                            <td class="px-6 py-4 text-right">42%</td>
                                        </tr>
                                        <tr class="hover:bg-gray-50">
                                            <td class="px-6 py-4 font-medium">/signup</td>
                                            <td class="px-6 py-4 text-right">4,567</td>
                                            <td class="px-6 py-4 text-right">18%</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>

                        <!-- Countries -->
                        <div class="col-span-12 xl:col-span-5">
                            <div class="bg-surface rounded-xl border border-border-subtle p-6">
                                <h3 class="text-lg font-semibold text-text-main mb-4">Top Countries</h3>
                                <div class="space-y-4">
                                    <div class="flex items-center justify-between"><span
                                            class="text-sm font-medium">ðŸ‡ºðŸ‡¸ United States</span>
                                        <div class="flex items-center gap-3">
                                            <div class="w-32 h-2 bg-gray-100 rounded-full">
                                                <div class="h-2 bg-primary rounded-full" style="width: 65%"></div>
                                            </div><span class="text-sm text-text-secondary">12,450</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between"><span
                                            class="text-sm font-medium">ðŸ‡¬ðŸ‡§ United Kingdom</span>
                                        <div class="flex items-center gap-3">
                                            <div class="w-32 h-2 bg-gray-100 rounded-full">
                                                <div class="h-2 bg-primary rounded-full" style="width: 40%"></div>
                                            </div><span class="text-sm text-text-secondary">7,234</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between"><span
                                            class="text-sm font-medium">ðŸ‡©ðŸ‡ª Germany</span>
                                        <div class="flex items-center gap-3">
                                            <div class="w-32 h-2 bg-gray-100 rounded-full">
                                                <div class="h-2 bg-primary rounded-full" style="width: 28%"></div>
                                            </div><span class="text-sm text-text-secondary">5,120</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between"><span
                                            class="text-sm font-medium">ðŸ‡ªðŸ‡¸ Spain</span>
                                        <div class="flex items-center gap-3">
                                            <div class="w-32 h-2 bg-gray-100 rounded-full">
                                                <div class="h-2 bg-primary rounded-full" style="width: 18%"></div>
                                            </div><span class="text-sm text-text-secondary">3,245</span>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between"><span
                                            class="text-sm font-medium">ðŸ‡«ðŸ‡· France</span>
                                        <div class="flex items-center gap-3">
                                            <div class="w-32 h-2 bg-gray-100 rounded-full">
                                                <div class="h-2 bg-primary rounded-full" style="width: 15%"></div>
                                            </div><span class="text-sm text-text-secondary">2,890</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script>
        // Main Analytics Chart
        document.addEventListener('DOMContentLoaded', function () {
            var analyticsOptions = {
                series: [{ name: 'Visitors', data: [4500, 5200, 4800, 6100, 5800, 7200, 6500] }, { name: 'Conversions', data: [180, 220, 195, 280, 245, 320, 290] }],
                chart: { type: 'area', height: 350, fontFamily: 'Manrope, sans-serif', toolbar: { show: false } },
                colors: ['#1754cf', '#07883b'],
                stroke: { curve: 'smooth', width: 2 },
                fill: { type: 'gradient', gradient: { shadeIntensity: 1, opacityFrom: 0.3, opacityTo: 0.05 } },
                xaxis: { categories: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'] },
                legend: { position: 'top', horizontalAlign: 'right' },
                grid: { borderColor: '#e7ebf3' }
            };
            new ApexCharts(document.querySelector("#analyticsChart"), analyticsOptions).render();

            // Device Donut Chart
            var deviceOptions = {
                series: [62, 31, 7],
                chart: { type: 'donut', height: 250 },
                colors: ['#1754cf', '#93c5fd', '#d1d5db'],
                labels: ['Desktop', 'Mobile', 'Tablet'],
                legend: { show: false },
                plotOptions: { pie: { donut: { size: '70%', labels: { show: true, total: { show: true, label: 'Total', fontSize: '14px', fontWeight: 600, color: '#5a6b89', formatter: () => '30,327' } } } } }
            };
            new ApexCharts(document.querySelector("#deviceChart"), deviceOptions).render();
        });
    </script>
</body>

</html>